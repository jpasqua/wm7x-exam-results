# ExamTools Results Processor

This is a simple Flask web app to process Amateur Radio exam results PDFs generated by ExamTools.org.  
It identifies missed questions, looks up the question texts and correct answers, and displays a detailed summary.

‚ö†Ô∏è **Note:** This tool is for convenience only and is not part of ExamTools.org or any official exam administration.

---

## Introduction

When giving an amateur license exam, applicants sometimes want to know which questions they missed. ExamTools makes a full report available, but it does not provide the actual question text. It only provides the question identifier such as E2D09. VE's need to search to find the actual question and answer text. This is pretty easy if there are just one or two missed questions, but becomes time consuming when there are more.

This tool allows a VE to upload the report generated by ExamTools and get back a reported detailing the missed questions. This can be shared with the applicant as PDF, a screenshot of the report, or verbally. If the applicant took multiple exams (e.g. multiple elements or a fail then a pass), the results for each exam will be provided.

A small help section is provided by the tool to guide the VE through the process.


## Project structure

```
/ham_exam_web/
‚îú‚îÄ‚îÄ app.py              # Flask app
‚îú‚îÄ‚îÄ config.py           # App config options
‚îú‚îÄ‚îÄ processor.py        # Core parsing + reporting logic
‚îú‚îÄ‚îÄ requirements.txt    # Python dependencies
‚îú‚îÄ‚îÄ static/             # CSS and image assets
‚îú‚îÄ‚îÄ templates/          # HTML templates
‚îî‚îÄ‚îÄ data/               # Question pool JSON files
    ‚îú‚îÄ‚îÄ technician.json
    ‚îú‚îÄ‚îÄ general.json
    ‚îî‚îÄ‚îÄ extra.json
```

## Branding

The app can present itself with different branding based on a case-insensitive URL parameter: `brand`. For example, on a local host one could use the URL:

`http://127.0.0.1:5000/?brand=kr4ml`

This will display branding (images, text, favicon) that is specific to the `KR4ML` brand, assuming it has been properly configured in the `config.py` file. If no brand parameter is found, the default brand will be used. To add a brand to the configuration, you'll need to edit `config.py` and add a stanza like the one for KR4ML below:

```python
    'KR4ML': {
        'logo_path': 'images/KR4ML/KR4MLLogo.jpg',
        'callsign': 'KR4ML',
        'site_name': 'KR4ML Exam Results',
        'subtitle': 'For convenience only, not part of ExamTools.org',
        'favicons': [
            {'size': '32x32', 'href': '/static/images/KR4ML/favicon-32x32.png'},
            {'size': '192x192', 'href': '/static/images/KR4ML/favicon-192x192.png'},
            {'size': '180x180', 'href': '/static/images/KR4ML/apple-touch-icon.png'},
            {'size': '270x270', 'href': '/static/images/KR4ML/mstile-270x270.png'}
        ]
    }
```

The images can be hosted locally or remotely. For remotely hosted images, a full URL is required. For locally hosted images, place the image files in the `static/images` directory in a subdirectory named for the brand; e.g. `static/images/KR4ML`.

The default brand is also specified in `config.py` with the key `DEFAULT_BRAND`.

## Setup (local development)

1Ô∏è‚É£ Clone the repository:

```bash
git clone <repo-url>
cd ham_exam_web
```

2Ô∏è‚É£ Set up Python virtual environment:

```bash
python3 -m venv venv
source venv/bin/activate
```

3Ô∏è‚É£ Install dependencies:

```bash
pip install -r requirements.txt
```

4Ô∏è‚É£ Set the Flask app environment variable

```bash
export FLASK_APP=app.py
```

5Ô∏è‚É£ Run the app:

```bash
flask run
# OR
flask --debug run
```

6Ô∏è‚É£ Open in browser:

```
http://127.0.0.1:5000/
```


## PythonAnywhere Deployment Checklist

### 1Ô∏è‚É£ Prepare code repository

* Push all project files to a GitHub repository  
* Ensure:

- `requirements.txt` lists all dependencies (`pip freeze > requirements.txt`)  
- `.gitignore` excludes `venv/`, `__pycache__/`, etc.  
- `LICENSE` and `README.md` are included  


### 2Ô∏è‚É£ Log into PythonAnywhere

* Go to https://www.pythonanywhere.com  
* Open **Dashboard**

### 3Ô∏è‚É£ Clone project into PythonAnywhere

In **Bash console**:

```bash
cd ~
git clone https://github.com/jpasqua/ham-exam-results.git ham-exam-results
cd ham-exam-results
```

*(Use SSH clone if using private repo + deploy keys)*


### 4Ô∏è‚É£ Create virtual environment

```bash
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 5Ô∏è‚É£ Set up web app

In **PythonAnywhere Web tab**:

* Create **Manual ‚Üí Python 3.10 app**  
* Set:

	- Working directory: `/home/kr4ml/ham-exam-results`
	- Virtualenv path: `/home/kr4ml/hame-exam-results/venv`

### 6Ô∏è‚É£ Configure WSGI file

Edit WSGI configuration (linked in Web tab, usually `/var/www/kr4ml_pythonanywhere_com_wsgi.py`). Copy the content of `/home/kr4ml/ham-exam-results/wsgi.py`.


### 7Ô∏è‚É£ Reload web app

* Go to Web tab  
* Click **Reload**


### 8Ô∏è‚É£ Check logs (if needed)

Go to **Web tab ‚Üí Log files**

- `error log` ‚Üí Python errors, exceptions  
- `access log` ‚Üí HTTP requests  
- `server log` ‚Üí server events

To tail logs live:
```bash
tail -f /var/log/kr4ml.pythonanywhere.com.error.log
```


### üîÑ Updating app in the future

```bash
cd ~/ham-exam-results
git pull
source venv/bin/activate
pip install -r requirements.txt
```

Then go to Web tab ‚Üí **Reload**.

---

### ‚úÖ Summary

When you've completed these steps you will have:

* Code on PythonAnywhere  
* Virtual environment with dependencies  
* Web app wired to Flask app  
* Logs available for review  
* Easy Git-based updates with `git pull`


## Notes

- Uploaded PDFs are stored temporarily on the server and **deleted immediately after processing**.
- No exam or user data is saved.
- The question pool JSON files must match the current active exam pools.
- To create favicons for a new "brand", either design custom icons at the sizes listed below, or start with the logo for the brand (e.g. `BrandLogo.jpeg`) and apply the `imagemagik convert` command as follows:

```bash
convert BrandLogo.jpeg -resize 32x32   favicon-32x32.png
convert BrandLogo.jpeg -resize 192x192 favicon-192x192.png
convert BrandLogo.jpeg -resize 180x180 apple-touch-icon.png
convert BrandLogo.jpeg -resize 270x270 mstile-270x270.png
```

## License

This project is licensed under the MIT License ‚Äî see the [LICENSE](LICENSE) file for details.

## Disclaimers

Not affiliated with ExamTools.org - provided as a tool for the testing community.
